(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5130],{31:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>f});var t=r(4568),s=r(2128),l=r(7620),d=r(9664),n=r.n(d),i=r(8065),c=r(7152),o=r(5438),x=r(2744),g=r(4624),h=r(2835),m=r(8653),u=r(4751),y=r(2078),p=r(5202),b=r(3714);function f(){let[e,a]=(0,l.useState)(""),[r,d]=(0,l.useState)("all"),[f,v]=(0,l.useState)("all"),j=[{id:"1",type:"deposit",amount:100,description:"Wallet top-up via MTN MoMo",status:"completed",date:"2024-01-15T10:30:00Z",reference:"TXN-001234",provider:"mtn_momo"},{id:"2",type:"hold",amount:-50,description:"Errand payment held in escrow",status:"completed",date:"2024-01-15T11:15:00Z",reference:"TXN-001235",errandId:"ERR-001"},{id:"3",type:"release",amount:45,description:"Errand payment released to agent",status:"completed",date:"2024-01-15T14:30:00Z",reference:"TXN-001236",errandId:"ERR-001"},{id:"4",type:"commission",amount:-5,description:"Platform commission",status:"completed",date:"2024-01-15T14:30:00Z",reference:"TXN-001237",errandId:"ERR-001"},{id:"5",type:"withdrawal",amount:-200,description:"Withdrawal to Vodafone Cash",status:"pending",date:"2024-01-16T09:00:00Z",reference:"TXN-001238",provider:"vodafone_cash"},{id:"6",type:"refund",amount:25,description:"Errand cancellation refund",status:"completed",date:"2024-01-16T12:00:00Z",reference:"TXN-001239",errandId:"ERR-002"}],N=e=>{switch(e){case"completed":return"text-green-600 dark:text-green-400";case"pending":return"text-yellow-600 dark:text-yellow-400";case"failed":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}},k=j.filter(a=>{let t=a.description.toLowerCase().includes(e.toLowerCase())||a.reference.toLowerCase().includes(e.toLowerCase()),s="all"===r||a.type===r,l="all"===f||a.status===f;return t&&s&&l});return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:[(0,t.jsx)(b.V,{currentPage:"/wallet",userName:"Kwame Mensah",currentRole:"customer"}),(0,t.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:(0,t.jsxs)(s.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(n(),{href:"/wallet",className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:(0,t.jsx)(u.A,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Transaction History"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"View all your wallet transactions"})]})]}),(0,t.jsxs)("button",{onClick:()=>{console.log("Exporting transactions...")},className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,t.jsx)(y.A,{className:"w-4 h-4"}),"Export"]})]}),(0,t.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search transactions...",value:e,onChange:e=>a(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,t.jsx)("div",{className:"md:w-48",children:(0,t.jsxs)("select",{value:r,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"all",children:"All Types"}),(0,t.jsx)("option",{value:"deposit",children:"Deposits"}),(0,t.jsx)("option",{value:"withdrawal",children:"Withdrawals"}),(0,t.jsx)("option",{value:"hold",children:"Escrow Holds"}),(0,t.jsx)("option",{value:"release",children:"Escrow Releases"}),(0,t.jsx)("option",{value:"commission",children:"Commissions"}),(0,t.jsx)("option",{value:"refund",children:"Refunds"})]})}),(0,t.jsx)("div",{className:"md:w-48",children:(0,t.jsxs)("select",{value:f,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"completed",children:"Completed"}),(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"failed",children:"Failed"})]})})]})}),(0,t.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:0===k.length?(0,t.jsxs)("div",{className:"p-8 text-center",children:[(0,t.jsx)(o.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No transactions found"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:e||"all"!==r||"all"!==f?"Try adjusting your filters":"Your transaction history will appear here"})]}):(0,t.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:k.map(e=>{let a=((e,a)=>{switch(e){case"deposit":case"withdrawal":return"mtn_momo"===a||"vodafone_cash"===a||"airteltigo_money"===a?i.A:c.A;case"hold":case"release":case"commission":case"refund":return o.A;default:return c.A}})(e.type,e.provider),r=(e=>{switch(e){case"completed":return x.A;case"pending":return g.A;case"failed":return h.A;default:return m.A}})(e.status),s=e.amount>0;return(0,t.jsx)("div",{className:"p-6 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-lg ".concat(s?"bg-green-100 dark:bg-green-950":"bg-red-100 dark:bg-red-950"),children:(0,t.jsx)(a,{className:"w-5 h-5 ".concat(s?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-1",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e.date).toLocaleDateString()}),(0,t.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.reference}),e.errandId&&(0,t.jsx)(n(),{href:"/errands/".concat(e.errandId),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:e.errandId})]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"font-semibold ".concat(s?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[s?"+":"","₵",Math.abs(e.amount).toLocaleString()]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)(r,{className:"w-4 h-4 ".concat(N(e.status))}),(0,t.jsx)("span",{className:"text-sm capitalize ".concat(N(e.status)),children:e.status})]})]})]})},e.id)})})}),(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"Transaction Summary"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["₵",j.filter(e=>e.amount>0).reduce((e,a)=>e+a.amount,0).toLocaleString()]}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Deposits"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["₵",Math.abs(j.filter(e=>e.amount<0).reduce((e,a)=>e+a.amount,0)).toLocaleString()]}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Withdrawals"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:j.length}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Transactions"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:j.filter(e=>"completed"===e.status).length}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Completed"})]})]})]})]})})]})}},3714:(e,a,r)=>{"use strict";r.d(a,{V:()=>b});var t=r(4568),s=r(9664),l=r.n(s),d=r(7541),n=r(3002),i=r(5438),c=r(2455),o=r(4502),x=r(4990),g=r(2116),h=r(2568),m=r(1115),u=r(7571),y=r(7620),p=r(4560);function b(e){let{currentPage:a,userName:r="User",currentRole:s="customer"}=e,[b,f]=(0,y.useState)(!1),[v,j]=(0,y.useState)(!1),{theme:N,setTheme:k}=(0,p.D)(),w=(0,d.useRouter)();(0,y.useEffect)(()=>{j(!0)},[]);let A=[{href:"/dashboard",label:"Dashboard",icon:n.A},{href:"/errands",label:"My Errands",icon:i.A},{href:"/wallet",label:"Wallet",icon:c.A},{href:"/history",label:"History",icon:o.A}],C=[{value:"customer",label:"Customer",icon:x.A,description:"Request errands",color:"text-blue-600 dark:text-blue-400"},{value:"agent",label:"Campus Ride Agent",icon:i.A,description:"Complete errands",color:"text-green-600 dark:text-green-400"}],T=C.find(e=>e.value===s)||C[0],E=T.icon;return(0,t.jsx)("div",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 sticky top-0 z-50",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(l(),{href:"/",children:(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white hover:opacity-80 transition-opacity",children:"Campus Ride"})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>f(!b),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all rounded-lg",children:[(0,t.jsx)(E,{className:"w-4 h-4 ".concat(T.color)}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:T.label}),(0,t.jsx)(g.A,{className:"w-4 h-4 text-gray-500 transition-transform ".concat(b?"rotate-180":"")})]}),b&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>f(!1)}),(0,t.jsx)("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 shadow-lg overflow-hidden z-20 rounded-lg",children:(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsx)("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Switch Role"}),C.map(e=>{let a=e.icon,r=e.value===s;return(0,t.jsxs)("button",{onClick:()=>(e=>{switch(f(!1),e){case"customer":default:w.push("/dashboard");break;case"agent":w.push("/agent")}})(e.value),className:"w-full flex items-start gap-3 px-3 py-3 transition-all rounded-md ".concat(r?"bg-gray-100 dark:bg-gray-800":"hover:bg-gray-50 dark:hover:bg-gray-800"),children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-md flex items-center justify-center flex-shrink-0 ".concat(r?"ring-2 ring-gray-900 dark:ring-white":""),children:(0,t.jsx)(a,{className:"w-5 h-5 ".concat(e.color)})}),(0,t.jsxs)("div",{className:"flex-1 text-left",children:[(0,t.jsxs)("div",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.label,r&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-gray-900 dark:bg-white text-white dark:text-gray-900 text-xs rounded-full",children:"Active"})]}),(0,t.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.description})]})]},e.value)})]})})]})]})]}),(0,t.jsx)("nav",{className:"hidden md:flex items-center gap-1",children:A.map(e=>{let r=e.icon,s=a===e.href;return(0,t.jsxs)(l(),{href:e.href,className:"px-4 py-2 font-medium transition-all rounded-lg ".concat(s?"text-gray-900 dark:text-white bg-gray-100 dark:bg-gray-800":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800"),children:[(0,t.jsx)(r,{className:"w-4 h-4 inline mr-2"}),e.label]},e.href)})}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[v&&(0,t.jsx)("button",{onClick:()=>k("dark"===N?"light":"dark"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors rounded-lg","aria-label":"Toggle theme",children:"dark"===N?(0,t.jsx)(h.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):(0,t.jsx)(m.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),(0,t.jsxs)("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 relative transition-colors rounded-lg",children:[(0,t.jsx)(u.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),(0,t.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-blue-600 rounded-full"})]}),(0,t.jsx)(l(),{href:"/profile",children:(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-900 dark:bg-white text-white dark:text-gray-900 flex items-center justify-center font-semibold hover:opacity-90 transition-opacity",children:r.charAt(0)})})]})]})})})}},4208:(e,a,r)=>{Promise.resolve().then(r.bind(r,31))}},e=>{e.O(0,[9664,2128,5383,587,18,7358],()=>e(e.s=4208)),_N_E=e.O()}]);