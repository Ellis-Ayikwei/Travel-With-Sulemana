(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1588],{1614:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>j});var t=r(4568),s=r(2128),d=r(7620),l=r(9664),n=r.n(l),c=r(4624),i=r(5438),o=r(2744),x=r(8653),g=r(419),m=r(4751),h=r(9769),u=r(1166),b=r(3072),y=r(8391),p=r(3714);function j(){let[e,a]=(0,d.useState)("active"),r=[{id:"ESC-001",errandId:"ERR-001",amount:50,customer:"Kwame Mensah",agent:"Ama Serwaa",description:"Pick up documents from Ridge office",status:"held",createdAt:"2024-01-15T11:15:00Z",expectedCompletion:"2024-01-15T16:00:00Z",location:"Ridge, Accra"},{id:"ESC-002",errandId:"ERR-002",amount:75,customer:"Akosua Osei",agent:"Kofi Asante",description:"Grocery shopping at Shoprite",status:"in_progress",createdAt:"2024-01-16T09:30:00Z",expectedCompletion:"2024-01-16T12:00:00Z",location:"Shoprite, Accra Mall"}],l=[{id:"ESC-003",errandId:"ERR-003",amount:30,customer:"Yaw Boateng",agent:"Efua Mensah",description:"Bank deposit at GCB",status:"released",createdAt:"2024-01-14T14:00:00Z",completedAt:"2024-01-14T15:30:00Z",location:"GCB Bank, Osu"},{id:"ESC-004",errandId:"ERR-004",amount:100,customer:"Adwoa Frimpong",agent:"Kwaku Appiah",description:"Package delivery to East Legon",status:"refunded",createdAt:"2024-01-13T10:00:00Z",completedAt:"2024-01-13T11:00:00Z",location:"East Legon, Accra",refundReason:"Customer cancellation"}],j=e=>{switch(e){case"held":return c.A;case"in_progress":return i.A;case"released":return o.A;case"refunded":return x.A;default:return g.A}},N=e=>{switch(e){case"held":return"text-yellow-600 dark:text-yellow-400 bg-yellow-100 dark:bg-yellow-950";case"in_progress":return"text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-950";case"released":return"text-green-600 dark:text-green-400 bg-green-100 dark:bg-green-100";case"refunded":return"text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-950";default:return"text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-950"}},f=e=>{switch(e){case"held":return"Funds Held";case"in_progress":return"In Progress";case"released":return"Released";case"refunded":return"Refunded";default:return"Unknown"}},k=r.reduce((e,a)=>e+a.amount,0),v=l.filter(e=>"released"===e.status).reduce((e,a)=>e+a.amount,0),w=l.filter(e=>"refunded"===e.status).reduce((e,a)=>e+a.amount,0);return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:[(0,t.jsx)(p.V,{currentPage:"/wallet",userName:"Kwame Mensah",currentRole:"customer"}),(0,t.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:(0,t.jsxs)(s.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,t.jsx)(n(),{href:"/wallet",className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:(0,t.jsx)(m.A,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Escrow Management"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Monitor your held and released funds"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Currently Held"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:["₵",k.toLocaleString()]})]}),(0,t.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-950 rounded-lg",children:(0,t.jsx)(g.A,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})})]})}),(0,t.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Released"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["₵",v.toLocaleString()]})]}),(0,t.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-950 rounded-lg",children:(0,t.jsx)(o.A,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),(0,t.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Refunded"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["₵",w.toLocaleString()]})]}),(0,t.jsx)("div",{className:"p-3 bg-red-100 dark:bg-red-950 rounded-lg",children:(0,t.jsx)(x.A,{className:"w-6 h-6 text-red-600 dark:text-red-400"})})]})})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800",children:[(0,t.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-800",children:(0,t.jsxs)("nav",{className:"flex",children:[(0,t.jsxs)("button",{onClick:()=>a("active"),className:"px-6 py-4 font-medium text-sm ".concat("active"===e?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"),children:["Active Escrows (",r.length,")"]}),(0,t.jsxs)("button",{onClick:()=>a("completed"),className:"px-6 py-4 font-medium text-sm ".concat("completed"===e?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"),children:["Completed (",l.length,")"]})]})}),(0,t.jsx)("div",{className:"p-6",children:"active"===e?(0,t.jsx)("div",{className:"space-y-4",children:0===r.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(g.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Active Escrows"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Your active escrow transactions will appear here"})]}):r.map(e=>{let a=j(e.status);return(0,t.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-6 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-lg ".concat(N(e.status)),children:(0,t.jsx)(a,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(h.A,{className:"w-4 h-4"}),e.agent]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(u.A,{className:"w-4 h-4"}),e.location]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(b.A,{className:"w-4 h-4"}),new Date(e.expectedCompletion).toLocaleDateString()]})]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["₵",e.amount.toLocaleString()]}),(0,t.jsx)("div",{className:"flex items-center gap-2 mt-1",children:(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(N(e.status)),children:f(e.status)})}),(0,t.jsxs)(n(),{href:"/errands/".concat(e.errandId),className:"inline-flex items-center gap-1 text-sm text-blue-600 dark:text-blue-400 hover:underline mt-2",children:[(0,t.jsx)(y.A,{className:"w-4 h-4"}),"View Details"]})]})]})},e.id)})}):(0,t.jsx)("div",{className:"space-y-4",children:0===l.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(o.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Completed Escrows"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Your completed escrow transactions will appear here"})]}):l.map(e=>{let a=j(e.status);return(0,t.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-6 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-lg ".concat(N(e.status)),children:(0,t.jsx)(a,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(h.A,{className:"w-4 h-4"}),e.agent]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(u.A,{className:"w-4 h-4"}),e.location]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(b.A,{className:"w-4 h-4"}),"Completed ",new Date(e.completedAt).toLocaleDateString()]})]}),e.refundReason&&(0,t.jsxs)("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:["Reason: ",e.refundReason]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["₵",e.amount.toLocaleString()]}),(0,t.jsx)("div",{className:"flex items-center gap-2 mt-1",children:(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(N(e.status)),children:f(e.status)})}),(0,t.jsxs)(n(),{href:"/errands/".concat(e.errandId),className:"inline-flex items-center gap-1 text-sm text-blue-600 dark:text-blue-400 hover:underline mt-2",children:[(0,t.jsx)(y.A,{className:"w-4 h-4"}),"View Details"]})]})]})},e.id)})})})]}),(0,t.jsx)("div",{className:"bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(g.A,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Campus RideSafe Escrow Protection"}),(0,t.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Your funds are held securely in escrow until errands are completed. This protects both customers and agents, ensuring fair transactions and dispute resolution."})]})]})})]})})]})}},3714:(e,a,r)=>{"use strict";r.d(a,{V:()=>p});var t=r(4568),s=r(9664),d=r.n(s),l=r(7541),n=r(3002),c=r(5438),i=r(2455),o=r(4502),x=r(4990),g=r(2116),m=r(2568),h=r(1115),u=r(7571),b=r(7620),y=r(4560);function p(e){let{currentPage:a,userName:r="User",currentRole:s="customer"}=e,[p,j]=(0,b.useState)(!1),[N,f]=(0,b.useState)(!1),{theme:k,setTheme:v}=(0,y.D)(),w=(0,l.useRouter)();(0,b.useEffect)(()=>{f(!0)},[]);let A=[{href:"/dashboard",label:"Dashboard",icon:n.A},{href:"/errands",label:"My Errands",icon:c.A},{href:"/wallet",label:"Wallet",icon:i.A},{href:"/history",label:"History",icon:o.A}],C=[{value:"customer",label:"Customer",icon:x.A,description:"Request errands",color:"text-blue-600 dark:text-blue-400"},{value:"agent",label:"Campus Ride Agent",icon:c.A,description:"Complete errands",color:"text-green-600 dark:text-green-400"}],R=C.find(e=>e.value===s)||C[0],E=R.icon;return(0,t.jsx)("div",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 sticky top-0 z-50",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(d(),{href:"/",children:(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white hover:opacity-80 transition-opacity",children:"Campus Ride"})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>j(!p),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all rounded-lg",children:[(0,t.jsx)(E,{className:"w-4 h-4 ".concat(R.color)}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:R.label}),(0,t.jsx)(g.A,{className:"w-4 h-4 text-gray-500 transition-transform ".concat(p?"rotate-180":"")})]}),p&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>j(!1)}),(0,t.jsx)("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 shadow-lg overflow-hidden z-20 rounded-lg",children:(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsx)("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Switch Role"}),C.map(e=>{let a=e.icon,r=e.value===s;return(0,t.jsxs)("button",{onClick:()=>(e=>{switch(j(!1),e){case"customer":default:w.push("/dashboard");break;case"agent":w.push("/agent")}})(e.value),className:"w-full flex items-start gap-3 px-3 py-3 transition-all rounded-md ".concat(r?"bg-gray-100 dark:bg-gray-800":"hover:bg-gray-50 dark:hover:bg-gray-800"),children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-md flex items-center justify-center flex-shrink-0 ".concat(r?"ring-2 ring-gray-900 dark:ring-white":""),children:(0,t.jsx)(a,{className:"w-5 h-5 ".concat(e.color)})}),(0,t.jsxs)("div",{className:"flex-1 text-left",children:[(0,t.jsxs)("div",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.label,r&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-gray-900 dark:bg-white text-white dark:text-gray-900 text-xs rounded-full",children:"Active"})]}),(0,t.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.description})]})]},e.value)})]})})]})]})]}),(0,t.jsx)("nav",{className:"hidden md:flex items-center gap-1",children:A.map(e=>{let r=e.icon,s=a===e.href;return(0,t.jsxs)(d(),{href:e.href,className:"px-4 py-2 font-medium transition-all rounded-lg ".concat(s?"text-gray-900 dark:text-white bg-gray-100 dark:bg-gray-800":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800"),children:[(0,t.jsx)(r,{className:"w-4 h-4 inline mr-2"}),e.label]},e.href)})}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[N&&(0,t.jsx)("button",{onClick:()=>v("dark"===k?"light":"dark"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors rounded-lg","aria-label":"Toggle theme",children:"dark"===k?(0,t.jsx)(m.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):(0,t.jsx)(h.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),(0,t.jsxs)("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 relative transition-colors rounded-lg",children:[(0,t.jsx)(u.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),(0,t.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-blue-600 rounded-full"})]}),(0,t.jsx)(d(),{href:"/profile",children:(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-900 dark:bg-white text-white dark:text-gray-900 flex items-center justify-center font-semibold hover:opacity-90 transition-opacity",children:r.charAt(0)})})]})]})})})}},8606:(e,a,r)=>{Promise.resolve().then(r.bind(r,1614))}},e=>{e.O(0,[9664,2128,694,587,18,7358],()=>e(e.s=8606)),_N_E=e.O()}]);